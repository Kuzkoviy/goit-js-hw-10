{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst timePicker = document.querySelector('#datetime-picker');\nconst startBtn = document.querySelector('[data-start]');\nconst daysCounter = document.querySelector('.value[data-days]');\nconst hoursCounter = document.querySelector('.value[data-hours]');\nconst minutesCounter = document.querySelector('.value[data-minutes]');\nconst secondsCounter = document.querySelector('.value[data-seconds]');\n\nlet timerId = null;\n\nconst options = {\n        enableTime: true,\n        time_24hr: true,\n        defaultDate: new Date(),\n        minuteIncrement: 1,\n        onClose(selectedDates) {\n          console.log(selectedDates[0]);\n\n          if(selectedDates[0].getTime() < Date.now()) {\n                iziToast.warning({\n                        title: 'Error',\n                        message: 'Please choose a date in the future',\n                        position: 'topRight'\n                });\n                startBtn.disabled = true;\n          }     else {\n                startBtn.disabled = false;\n                selectedTime.selectedDates[0].getTime();\n          }\n        },\n      };\n\nflatpickr('#datetime-picker', options);\n\n\n\nfunction addLeadingZero(value) {\n        return String(value).padStart(2, '0');\n}\n\n\nfunction convertMs(ms) {\n        // Number of milliseconds per unit of time\n        const second = 1000;\n        const minute = second * 60;\n        const hour = minute * 60;\n        const day = hour * 24;\n      \n        // Remaining days\n        const days = Math.floor(ms / day);\n        // Remaining hours\n        const hours = Math.floor((ms % day) / hour);\n        // Remaining minutes\n        const minutes = Math.floor(((ms % day) % hour) / minute);\n        // Remaining seconds\n        const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n      \n        return { days, hours, minutes, seconds };\n      }\n      \n\n      \n\nstartBtn.addEventListener('click', onBtnClick);\n\nfunction onBtnClick() {\n        timerId = setInterval(() => {\n                const difference = new Date(timePicker.value) - Date.now();\n                if(difference < 1000) {\n                        clearInterval(timerId);\n                        startBtn.disabled = false;\n                }\n\n                const data = convertMs(difference);\n                changeValues(data);\n        }, 1000);\n}\n\n\nfunction changeValues({ days, hours, minutes, seconds}) {\n        daysCounter.textContent = days;\n        hoursCounter.textContent = hours;\n        minutesCounter.textContent = minutes;\n        secondsCounter.textContent = seconds;\n};\n\n\n\n\n\n"],"names":["timePicker","startBtn","daysCounter","hoursCounter","minutesCounter","secondsCounter","timerId","options","selectedDates","iziToast","flatpickr","convertMs","ms","days","hours","minutes","seconds","onBtnClick","difference","data","changeValues"],"mappings":"+IAMA,MAAMA,EAAa,SAAS,cAAc,kBAAkB,EACtDC,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAc,SAAS,cAAc,mBAAmB,EACxDC,EAAe,SAAS,cAAc,oBAAoB,EAC1DC,EAAiB,SAAS,cAAc,sBAAsB,EAC9DC,EAAiB,SAAS,cAAc,sBAAsB,EAEpE,IAAIC,EAAU,KAEd,MAAMC,EAAU,CACR,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,QAAQ,IAAIA,EAAc,CAAC,CAAC,EAEzBA,EAAc,CAAC,EAAE,QAAO,EAAK,KAAK,OAC/BC,EAAS,QAAQ,CACT,MAAO,QACP,QAAS,qCACT,SAAU,UAClC,CAAiB,EACDR,EAAS,SAAW,KAEpBA,EAAS,SAAW,GACpB,aAAa,cAAc,CAAC,EAAE,QAAO,EAE5C,CACT,EAEAS,EAAU,mBAAoBH,CAAO,EASrC,SAASI,EAAUC,EAAI,CAQf,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACvC,CAKPf,EAAS,iBAAiB,QAASgB,CAAU,EAE7C,SAASA,GAAa,CACdX,EAAU,YAAY,IAAM,CACpB,MAAMY,EAAa,IAAI,KAAKlB,EAAW,KAAK,EAAI,KAAK,MAClDkB,EAAa,MACR,cAAcZ,CAAO,EACrBL,EAAS,SAAW,IAG5B,MAAMkB,EAAOR,EAAUO,CAAU,EACjCE,EAAaD,CAAI,CACxB,EAAE,GAAI,CACf,CAGA,SAASC,EAAa,CAAE,KAAAP,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAG,CAChDd,EAAY,YAAcW,EAC1BV,EAAa,YAAcW,EAC3BV,EAAe,YAAcW,EAC7BV,EAAe,YAAcW,CACrC"}